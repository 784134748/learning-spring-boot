<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE mapper PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN' 'http://mybatis.org/dtd/mybatis-3-mapper.dtd' >
<mapper namespace='com.yalonglee.learning.security.mapper.base.SysAclBaseMapper'>

    <sql id='Base_Column_List' >
    id, code, name, acl_module_id, url, type, status, seq, remark, operator, operate_time, operate_ip
    </sql>

    <select id='selectByPrimaryKey' resultType='com.yalonglee.learning.security.model.SysAcl' parameterType='java.lang.Long'>
        select 
        <include refid='Base_Column_List' />
        from sys_acl 
        where id = #{id}
    </select>

    <select id='selectByQuery' resultType='com.yalonglee.learning.security.model.SysAcl' parameterType='java.util.Map'>
        select 
        <include refid='Base_Column_List' />
        from sys_acl 
        <where>
            <include refid='query_filter'/>
        </where>
        <if test='start != null'>
            LIMIT #{start},#{limit}
        </if>
    </select>

    <delete id='deleteByPrimaryKey' parameterType='java.lang.Long'>
        delete from sys_acl where id = #{id}
    </delete>

    <select id='count' resultType='java.lang.Integer' parameterType='java.util.Map'>
        select count(*) from sys_acl
        <where>
            <include refid='query_filter'/>
        </where>
    </select>

    <insert id='insert' parameterType='java.util.Map' useGeneratedKeys='true' keyProperty='id'>
        insert into sys_acl
        <trim prefix='(' suffix=')' suffixOverrides=','>
            <if test='id != null'>id,</if>
            <if test='code != null'>code,</if>
            <if test='name != null'>name,</if>
            <if test='aclModuleId != null'>acl_module_id,</if>
            <if test='url != null'>url,</if>
            <if test='type != null'>type,</if>
            <if test='status != null'>status,</if>
            <if test='seq != null'>seq,</if>
            <if test='remark != null'>remark,</if>
            <if test='operator != null'>operator,</if>
            <if test='operateTime != null'>operate_time,</if>
            <if test='operateIp != null'>operate_ip,</if>
        </trim>
        <trim prefix='values (' suffix=')' suffixOverrides=','>
            <if test='id != null'>#{id},</if>
            <if test='code != null'>#{code},</if>
            <if test='name != null'>#{name},</if>
            <if test='aclModuleId != null'>#{aclModuleId},</if>
            <if test='url != null'>#{url},</if>
            <if test='type != null'>#{type},</if>
            <if test='status != null'>#{status},</if>
            <if test='seq != null'>#{seq},</if>
            <if test='remark != null'>#{remark},</if>
            <if test='operator != null'>#{operator},</if>
            <if test='operateTime != null'>#{operateTime},</if>
            <if test='operateIp != null'>#{operateIp},</if>
        </trim>
    </insert>

    <update id='update' parameterType='java.util.Map'>
        update sys_acl
        <set>
            <if test='id'>id = #{id},</if>
            <if test='code'>code = #{code},</if>
            <if test='name'>name = #{name},</if>
            <if test='aclModuleId'>acl_module_id = #{aclModuleId},</if>
            <if test='url'>url = #{url},</if>
            <if test='type'>type = #{type},</if>
            <if test='status'>status = #{status},</if>
            <if test='seq'>seq = #{seq},</if>
            <if test='remark'>remark = #{remark},</if>
            <if test='operator'>operator = #{operator},</if>
            <if test='operateTime'>operate_time = #{operateTime},</if>
            <if test='operateIp'>operate_ip = #{operateIp},</if>
        </set>
        where id = #{id}
    </update>

    <sql id='query_filter'>
        <if test='id != null'>and id = #{id}</if>
        <if test='code != null'>and code = #{code}</if>
        <if test='name != null'>and name = #{name}</if>
        <if test='aclModuleId != null'>and acl_module_id = #{aclModuleId}</if>
        <if test='url != null'>and url = #{url}</if>
        <if test='type != null'>and type = #{type}</if>
        <if test='status != null'>and status = #{status}</if>
        <if test='seq != null'>and seq = #{seq}</if>
        <if test='remark != null'>and remark = #{remark}</if>
        <if test='operator != null'>and operator = #{operator}</if>
        <if test='operateTime != null'>and operate_time = #{operateTime}</if>
        <if test='operateIp != null'>and operate_ip = #{operateIp}</if>
    </sql>

</mapper>
