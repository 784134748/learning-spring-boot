[2019-07-30 12:00:43] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [50] - Starting PaymentAccountTest on YaLongs-iMac.local with PID 1379 (started by yalonglee in /Users/yalonglee/Documents/GitHub/learning-spring-boot/learning-account)
[2019-07-30 12:00:43] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [663] - The following profiles are active: local
[2019-07-30 12:00:43] [ INFO ] [main] org.springframework.web.context.support.GenericWebApplicationContext [590] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:00:43 CST 2019]; root of context hierarchy
[2019-07-30 12:00:45] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:00:45] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:00:46] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:00:46] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [574] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:00:43 CST 2019]; root of context hierarchy
[2019-07-30 12:00:46] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[2019-07-30 12:00:46] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[2019-07-30 12:00:46] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:00:46] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:00:46] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [59] - Started PaymentAccountTest in 4.524 seconds (JVM running for 6.009)
[2019-07-30 12:00:46] [ INFO ] [main] com.alibaba.druid.pool.DruidDataSource [930] - {dataSource-1} inited
[2019-07-30 12:00:47] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.selectOneByQuery [159] - ==>  Preparing: select account.`id`, account.`account_addr`, account.`timestamp_lock`, account.`wait_withdraw_cashes_amount`, account.`gmt_create`, account.`gmt_modified` from account WHERE account.`account_addr` = ? Limit 1 
[2019-07-30 12:00:47] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.selectOneByQuery [159] - ==> Parameters: yalonglee3(String)
[2019-07-30 12:00:47] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.selectOneByQuery [159] - <==      Total: 1
[2019-07-30 12:00:47] [ INFO ] [Thread-2] org.springframework.web.context.support.GenericWebApplicationContext [993] - Closing org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:00:43 CST 2019]; root of context hierarchy
[2019-07-30 12:00:47] [ INFO ] [Thread-2] com.alibaba.druid.pool.DruidDataSource [1825] - {dataSource-1} closed
[2019-07-30 12:00:58] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [50] - Starting PaymentAccountTest on YaLongs-iMac.local with PID 1394 (started by yalonglee in /Users/yalonglee/Documents/GitHub/learning-spring-boot/learning-account)
[2019-07-30 12:00:58] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [663] - The following profiles are active: local
[2019-07-30 12:00:59] [ INFO ] [main] org.springframework.web.context.support.GenericWebApplicationContext [590] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:00:59 CST 2019]; root of context hierarchy
[2019-07-30 12:01:01] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:01:01] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:01:01] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:01:01] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [574] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:00:59 CST 2019]; root of context hierarchy
[2019-07-30 12:01:01] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[2019-07-30 12:01:01] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[2019-07-30 12:01:01] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:01:01] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:01:01] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [59] - Started PaymentAccountTest in 3.635 seconds (JVM running for 4.678)
[2019-07-30 12:01:01] [ INFO ] [main] com.alibaba.druid.pool.DruidDataSource [930] - {dataSource-1} inited
[2019-07-30 12:01:02] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.selectOneByQuery [159] - ==>  Preparing: select account.`id`, account.`account_addr`, account.`timestamp_lock`, account.`wait_withdraw_cashes_amount`, account.`gmt_create`, account.`gmt_modified` from account WHERE account.`account_addr` = ? Limit 1 
[2019-07-30 12:01:02] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.selectOneByQuery [159] - ==> Parameters: yalonglee4(String)
[2019-07-30 12:01:02] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.selectOneByQuery [159] - <==      Total: 0
[2019-07-30 12:01:02] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.insert [159] - ==>  Preparing: insert into account ( account.`account_addr`, account.`gmt_create`, account.`gmt_modified` ) values ( ?, now(), now() ) 
[2019-07-30 12:01:02] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.insert [159] - ==> Parameters: yalonglee4(String)
[2019-07-30 12:01:02] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.insert [159] - <==    Updates: 1
[2019-07-30 12:01:02] [ INFO ] [Thread-2] org.springframework.web.context.support.GenericWebApplicationContext [993] - Closing org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:00:59 CST 2019]; root of context hierarchy
[2019-07-30 12:01:02] [ INFO ] [Thread-2] com.alibaba.druid.pool.DruidDataSource [1825] - {dataSource-1} closed
[2019-07-30 12:01:29] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [50] - Starting PaymentAccountTest on YaLongs-iMac.local with PID 1401 (started by yalonglee in /Users/yalonglee/Documents/GitHub/learning-spring-boot/learning-account)
[2019-07-30 12:01:29] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [663] - The following profiles are active: local
[2019-07-30 12:01:29] [ INFO ] [main] org.springframework.web.context.support.GenericWebApplicationContext [590] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@14fa86ae: startup date [Tue Jul 30 12:01:29 CST 2019]; root of context hierarchy
[2019-07-30 12:01:32] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:01:32] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:01:32] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:01:32] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [574] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@14fa86ae: startup date [Tue Jul 30 12:01:29 CST 2019]; root of context hierarchy
[2019-07-30 12:01:32] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[2019-07-30 12:01:32] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[2019-07-30 12:01:32] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:01:32] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:01:32] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [59] - Started PaymentAccountTest in 4.291 seconds (JVM running for 5.346)
[2019-07-30 12:01:33] [ INFO ] [main] com.alibaba.druid.pool.DruidDataSource [930] - {dataSource-1} inited
[2019-07-30 12:01:33] [ INFO ] [main] com.yalonglee.learning.account.utils.account.AccountUtil [206] - 流水号：123456890,进入一对多转账的方法: 出账账户地址【system_account_addr】 - 出账总金额【10.0】
[2019-07-30 12:01:33] [ INFO ] [main] com.yalonglee.learning.account.utils.account.AccountUtil [338] - 流水号：123456890,进入顺序转账方法: 入账账户地址【yalonglee4】 - 入账总金额【10.0】
[2019-07-30 12:01:33] [ INFO ] [main] com.yalonglee.learning.account.utils.account.AccountUtil [366] - 流水号：123456890,支付记录: 支付记录id【605731709517824000】 - 支付记录的可用金额【10.0】 - 支付记录消耗的可用金额【{}】
[2019-07-30 12:01:33] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountRecordMapper.batchInsert [159] - ==>  Preparing: insert into account_record ( account_record.`id`, account_record.`serial_number`, account_record.`account_addr`, account_record.`available_amount`, account_record.`frozen_amount`, account_record.`index`, account_record.`source_account_addr`, account_record.`gmt_create`, account_record.`gmt_modified` ) values (?, ?, ?, ?, ?, ?, ?, now(), now()) 
[2019-07-30 12:01:33] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountRecordMapper.batchInsert [159] - ==> Parameters: 605731709517824000(Long), 123456890(String), yalonglee4(String), 10.0(Double), 0.0(Double), 0(Integer), system_account_addr(String)
[2019-07-30 12:02:01] [ INFO ] [Thread-2] org.springframework.web.context.support.GenericWebApplicationContext [993] - Closing org.springframework.web.context.support.GenericWebApplicationContext@14fa86ae: startup date [Tue Jul 30 12:01:29 CST 2019]; root of context hierarchy
[2019-07-30 12:02:01] [ INFO ] [Thread-2] com.alibaba.druid.pool.DruidDataSource [1825] - {dataSource-1} closed
[2019-07-30 12:02:05] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [50] - Starting PaymentAccountTest on YaLongs-iMac.local with PID 1417 (started by yalonglee in /Users/yalonglee/Documents/GitHub/learning-spring-boot/learning-account)
[2019-07-30 12:02:05] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [663] - The following profiles are active: local
[2019-07-30 12:02:05] [ INFO ] [main] org.springframework.web.context.support.GenericWebApplicationContext [590] - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:02:05 CST 2019]; root of context hierarchy
[2019-07-30 12:02:07] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:02:08] [ INFO ] [main] com.yalonglee.learning.account.utils.snowflake.AbstractSnowflakeWorker [35] - worker starting. timestamp left shift 22, worker id bits 10, sequence bits 12, worker id 0
[2019-07-30 12:02:08] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:02:08] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter [574] - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:02:05 CST 2019]; root of context hierarchy
[2019-07-30 12:02:08] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
[2019-07-30 12:02:08] [ INFO ] [main] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping [547] - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
[2019-07-30 12:02:08] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:02:08] [ INFO ] [main] org.springframework.web.servlet.handler.SimpleUrlHandlerMapping [373] - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
[2019-07-30 12:02:08] [ INFO ] [main] com.yalonglee.learning.account.PaymentAccountTest [59] - Started PaymentAccountTest in 3.842 seconds (JVM running for 4.768)
[2019-07-30 12:02:09] [ INFO ] [main] com.alibaba.druid.pool.DruidDataSource [930] - {dataSource-1} inited
[2019-07-30 12:02:09] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.getAccountInfoByAccountAddr [159] - ==>  Preparing: select account.account_addr, account.wait_withdraw_cashes_amount as account_wait_withdraw_cashes_amount, account.timestamp_lock as account_timestamp_lock, current_timestamp as account_current_timestamp, sum(account_record.available_amount) as account_total_available_amount, sum(account_record.frozen_amount) as account_total_frozen_amount from account, account_record where account.account_addr = ? and account_record.account_addr = account.account_addr 
[2019-07-30 12:02:09] [ DEBUG] [main] com.yalonglee.learning.account.mapper.AccountMapper.getAccountInfoByAccountAddr [159] - ==> Parameters: yalonglee4(String)
[2019-07-30 12:02:45] [ INFO ] [Thread-2] org.springframework.web.context.support.GenericWebApplicationContext [993] - Closing org.springframework.web.context.support.GenericWebApplicationContext@275bf9b3: startup date [Tue Jul 30 12:02:05 CST 2019]; root of context hierarchy
[2019-07-30 12:02:45] [ INFO ] [Thread-2] com.alibaba.druid.pool.DruidDataSource [1825] - {dataSource-1} closed
